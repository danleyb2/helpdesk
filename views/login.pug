extends application

block main
  style(type='text/css').
    .flex-fill {
      flex-grow: 1;
      width: auto;
      height: auto;
      display: flex;
      flex-direction: column;
    }
    .floating-chat {
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      position: fixed;
      bottom: 10px;
      right: 10px;
      width: 40px;
      height: 40px;
      transform: translateY(70px);
      transition: all 250ms ease-out;
      border-radius: 50%;
      opacity: 0;
      background: -moz-linear-gradient(-45deg, #183850 0, #183850 25%, #192C46 50%, #22254C 75%, #22254C 100%);
      background: -webkit-linear-gradient(-45deg, #183850 0, #183850 25%, #192C46 50%, #22254C 75%, #22254C 100%);
      background-repeat: no-repeat;
      background-attachment: fixed;
    }
    .floating-chat.enter:hover {
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.19), 0 6px 6px rgba(0, 0, 0, 0.23);
      opacity: 1;
    }
    .floating-chat.enter {
      transform: translateY(0);
      opacity: 0.6;
      box-shadow: 0px 1px 3px rgba(0, 0, 0, 0.12), 0px 1px 2px rgba(0, 0, 0, 0.14);
    }

    .floating-chat.expand {
      width: 250px;
      max-height: 400px;
      height: 400px;
      border-radius: 5px;
      cursor: auto;
      opacity: 1;
    }

    .floating-chat :focus {
      outline: 0;
      box-shadow: 0 0 3pt 2pt rgba(14, 200, 121, 0.3);
    }

    .floating-chat button {
      background: transparent;
      border: 0;
      color: white;
      text-transform: uppercase;
      border-radius: 3px;
      cursor: pointer;
    }

    .floating-chat .chat {
      display: flex;
      flex-direction: column;
      position: absolute;
      opacity: 0;
      width: 1px;
      height: 1px;
      border-radius: 50%;
      transition: all 250ms ease-out;
      margin: auto;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
    }

    .floating-chat .chat.enter {
      opacity: 1;
      border-radius: 0;
      margin: 10px;
      width: auto;
      height: auto;
    }

    .floating-chat .chat .header {
      flex-shrink: 0;
      padding-bottom: 10px;
      display: flex;
      background: transparent;
    }

    .floating-chat .chat .header .title {
      flex-grow: 1;
      flex-shrink: 1;
      padding: 0 5px;
    }

    .floating-chat .chat .header button {
      flex-shrink: 0;
    }


  .container
    h1 Login Page
    if info
      pre #{info.message}
    p.lead Say something worthwhile here.
    form(role='form', action="/login", method="post", style='max-width: 300px;')
      .form-group
        label(for="username") Username or Email  
        input.form-control#username(type='text', name="email", placeholder='Username or Email' value='')
      .form-group
        input.form-control(type='password', name="password", placeholder='Password', value='')
      button.btn.btn-default(type='submit') Submit &nbsp;
      br  
      a(href='/register') Register
      | 
      a(href='/forgot_password') Forgot Password ?
      
      
      
  
      
  .floating-chat
    i.fa.fa-comments
    .chat
      .header
        span.title Live Chat
        button
          i.fa.fa-times
      iframe.flex-fill(src='http://localhost:3000/chat/5c2e03ceec99c70f69d46c87')


block scripts
  script.  
      var element = $('.floating-chat');
      setTimeout(function () {
          element.addClass('enter');
      }, 1000);

      element.click(openElement);

      function openElement() {
          element.find('>i').hide();
          element.addClass('expand');
          element.find('.chat').addClass('enter');
          element.off('click', openElement);
          element.find('.header button').click(closeElement);
          element.find('#start').click(startChat);
      }
      function closeElement() {
          element.find('.chat').removeClass('enter').hide();
          element.find('>i').show();
          element.removeClass('expand');
          element.find('.header button').off('click', closeElement);
          setTimeout(function () {
              element.find('.chat').removeClass('enter').show()
              element.click(openElement);
          }, 500);
      }
    
    
