extends application

block main
  style(type='text/css').
    .notification-indicator {
      color: hsla(0, 0%, 100%, .75);
    }
    
    .notification-indicator .mail-status.unread {
      display: inline-block;
    }
    
    .notification-indicator .mail-status {
      background-clip: padding-box;
      background-image: linear-gradient(#54a3ff, #006eed);
      /*border: 2px solid #24292e;*/
      border-radius: 50%;
      color: #fff;
      display: none;
      height: 14px;
      left: 22px;
      position: relative;
      top: -9px;
      width: 14px;
      z-index: 2;
    }
    
  if !req.user.isVerified  
    .alert.alert-secondary.mt-2(role='alert')
      | Please take a moment to 
      a.alert-link(href='#') Verify Your Email Address
      | . To be able to create properties and tickets.
    
  nav.navbar.navbar-light.bg-light.justify-content-between.mb-2.navbar-expand-lg
    a.navbar-brand(href='/') HelpDesk
    button.navbar-toggler(type='button', data-toggle='collapse', data-target='#navbarNav', aria-controls='navbarNav', aria-expanded='false', aria-label='Toggle navigation')
      span.navbar-toggler-icon
    #navbarNav.collapse.navbar-collapse
      .navbar-nav.mr-auto
        ul.navbar-nav
          li.nav-item.active
            a.nav-link(href='/m')
              | Messaging 
              span.badge.badge-pill.badge-primary 4
          li.nav-item
            a.nav-link(href='/t') Tickets 
              span.badge.badge-pill.badge-primary #{open_tickets_count}
          li.nav-item
            a.nav-link(href='/p') Properties
          //li.nav-item
          //  a.nav-link.disabled(href='#') Disabled        
      form.form-inline.col-md-5(action='/search' method='get')
        input.form-control.col-md-12(type='search', name='q' placeholder='Search Tickets, Contacts, Conversations' value=req.query.q?req.query.q:'')
      ul.navbar-nav
        li.nav-item
          span.d-inline-block
            a.nav-link.notification-indicator(href='/n' aria-label='Notifications')
              span.mail-status.unread
              i.fas.fa-bell.fa-lg
            
        li.nav-item.dropdown
          a#navbarDropdownMenuLink.nav-link.dropdown-toggle(href='#', data-toggle='dropdown', aria-haspopup='true', aria-expanded='false') #{req.user.username}
          .dropdown-menu.dropdown-menu-right(aria-labelledby='navbarDropdownMenuLink')
            a.dropdown-item(href='/profile') Profile
            a.dropdown-item(href='/s') Settings
            a.dropdown-item(href='/logout') Logout
  
  
  .card
    .card-body
      block content
        
  
